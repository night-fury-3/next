# Step One: Using Fusion Components

## 1. Use Fusion components

Fusion is a way of working to improve the efficiency of UI building between design and development. We are committed to providing support for accessibility, including the Fusion basic components that developers can test and use, as well as providing [Fusion accessibility usage documentation](https://fusion.design/component). All non-component API attributes can be propagated to DOM elements (we can pass parameters and modify aria and role attributes).

After the study of the previous chapter, we have a preliminary understanding of accessibility. How to reform? Here are some guidelines:

* For components, we have built-in `role` and specific `aria-*` attributes for developers. Developers can also pass non-component API attributes to DOM elements and modify `role` and `aria-*` parameters, but note the corresponding relationship.

* For some special components, we have to pass arguments to support accessibility, set `id`, `autoFocus` and parameter, as follows:

  * id - `Balloon`，`Rating`
  * autoFocus - popup layer auto focus, for example `Dialog`，`Overlay`，`Dropdown`
  * 传参数 - 有些组件需要根据具体的业务，实现不同的可访问性，这里为开发者内置一些参数，想使用无障碍的时候，用户只需要根据现有的需求，选择对应的内置参数，例如设置 aria-label，以下组件需要用户传参数才支持无障碍组件如下：`NumberPicker`、`Transfer`
  * pass parameter - Some components need to implement different accessibility according to specific business. Here, some parameters are built in for developers. When you want to use accessibility, users only need to select corresponding built-in parameters according to requirements, such as setting `aria-label`. The following components require user-passed parameters to support accessibility, such as: `NumberPicker`, `Transfer`

* We provide accessibility documentation for developers, Please [refer to](https://fusion.design/component) the components in the API `ARIA and KeyBoard`

## 2. Classification of components

This section describes how to transform components to make them more accessible to developers. The following four categories::

### 2.1 Data Display

* `Icon`
  * Icon element
  * If decorative icon, please set the `<Icon aria-hidden > `or` <Icon role="presentation" >`
  * If you have real semantics, please set `aria-label` to describe icon behavior `<Icon aria-label ="XXX" >`

* `Badge`
  * If you need to reading the meaning, You can set CSS to read only what the screen software can read.Please to [reference document](https://fusion.design/component/basic/badge)

* `Slider`
  * If the content needs to be read, customize the alt attribute (if img) or the `aria-label` attribute. Please to [reference document](https://fusion.design/component/basic/slider)

* `Table`
  * The default is a table of pure data display - If you use complex functions as a layout, you need to customize attributes such as role. Please to [reference document](https://fusion.design/component/basic/table)

* `Tag`
  * Delete class tag, The default delete button is reading as "delete", you can customize copywriting, custom way reference [setting of internationalization language pack](https://fusion.design/component/basic/config-provider)

* `Paragraph`、`Progress`、`Timeline`、`Collapse`

### 2.2 Feedback
* `Message`
  * The default role="alert", and when it appears in the document, the screen reader will read it first.
  * If not for typical use, such as displayed on the page all the time, please according to actual demand to override the default role, `<Message role = "" />`

* `Balloon`
  * Pass in id to support accessibility (for SSR support, id is not generated by default).
  * The default role="tooltip". If you have a high priority, override the default role as required
  * Simple copywriting descriptions recommend using Balloon, Tooltip, which expands automatically after focus
  * Be sure to set the trigger element that can be focused

* `Dialog`
  * The default role="dialog". If you have a high priority, override the default role as required
  * Open default focus by `autoFocus`, focus for popup layer content on the first element which can be focused `< Dialog autoFocus />`
  * Be sure to set the trigger element that can be focused

* `Overlay`
  * 可通过`autoFocus`开启默认聚焦，焦点为弹层内容上第一个可聚焦元素 `<Overlay autoFocus />` 
  * Open default focus by `autoFocus`, focus for popup layer content on the first element which can be focused `< Overlay autoFocus />`
  * Be sure to set the trigger element that can be focused

### 2.3 Menu and Navigation

* Menu
  * `Menu`
    * Support for keyboard navigation
    * Default role="menu", child element is "menuitem", menu custom single child element is "menuitemradio", menu custom multiple child element is "menuitemcheckbox"
    * Using `selectMode` attribute to change optional status , the default role = "listbox", whether the root node multi-select change `aria-multiselectable` values, child elements for "listitem"
    * Please override the default role `< Menu role = "listbox" />` `< Menu.Item role = "listitem" />` according to actual demand

  * `Nav`
    * Default role="listbox", child element is "listitem"
    * Please override the default role `<Nav role="menu" />` `<Nav.Item role="menuitem" />` according to actual demand

  * `Dropdown`
    * Be sure to set the trigger element that can be focused
    * When the popup layer is expanded, it will automatically focus, which can be disabled by setting `autoFocus=false`

* Navigation
  * `Tab`
    * Default role="tablist", child element is "tab"
    * Support for keyboard navigation

  * `Pagination`
    * The reading format defaults to "previous page, current ${i} page", which can be customized, and the custom way refers to [international language pack settings](https://fusion.design/component/basic/config-provider)

  * `Step`、`Breadcrumb`
    * Default `aria-current` tag current step

### 2.4 Form

* recommended components:： Form Field Input CheckBox Radio Switch Select NumberPicker Button Range Rating DatePicker TimePicker Upload
  * `Input`
    * Automatically set `aria-disabled` according to the disabled state 
    * Please the user to set `aria-live`, `aria-label` according to the specific scene. Please to [reference document](https://fusion.design/component/basic/input)

  * `CheckBox` does not require user changes
    * Support for keyboard navigation
    * According to the selected update ` aria - checked `

  * `Radio` does not require user changes
    * Support for keyboard navigation
    * Update ` aria - checked ` according to the selected
  
  * `Switch`
    * default role="switch"
    * Update ` aria - checked ` according to the selected

  * `Select`
    * Support keyboard operation, up and down keys for before and after content switch
    * According to the selected item, update `aria-live` properties corresponding to span tag content

  * `NumberPicker`
    * Support keyboard up and down keys, represents the increase, decrease the number.
    * Developers can by passing `upBtnProps` `downBtnProps` parameters, custom increase or reduce button `aria-label` copywriting. Please to [reference document](https://fusion.design/component/basic/number-picker)

  * `Button` `SplitButton` `MenuButton`
    * Default `<button>` tag to render, you can customize the tag type `<Button component="a">`
    * Can be set by configuring automatic focusing, MenuButton and SplitButton components to set menuProps properties , where the parameter is the object `{autoFocus: true}`

  * `Range`
    * Use the left and right arrow keys to change the numerical value
    * Default role=“slider”, slide to update the following values `aira-valuenow `(defining the current value), `aria-valuetext` (readable alternative text), `aria-valuemax` (maximum), `aria-valuemin` (minimum)

  * `Rating`
    * Passing id to support accessibility
    * Support keyboard operation
    * Customize presentation/reading by setting the readAs function

  * `DatePicker`
    * Use role for grid, rowgroup, row and cell, and set the `aria-disabled`(Whether it is forbidden state) and `aria-selected` (Whether it is selected).
    * Suggested that adequate `aria-label` prompt, encourage users to manually enter the date in accordance with the specified format

  * `TimePicker` 
    * Suggested that adequate `aria-label` prompt, encourage users to manually enter the date in accordance with the specified format
    * Use role for listbox and option, set aria-selected, tabIndex

  * `Upload`
    * Set role to application and set aria-hidden in input to prevent screen readers from reading.
    * It is recommended to keep at least one way to click upload

* Not recommended components：TreeSelect CascaderSelect Cascader Transfer
  * `TreeSelect` `CascaderSelect` `Cascader`
    * All of them support the operation of arrow keys . The upper and lower keys are the same level of content switching, and the left and right keys are the parent and child switching.
    * In accessible design, avoid the use of these components as much as possible


  * `Transfer`
    * Use role for menu, menuuitemcheckbox and aria-checked, tabIndex property
    * Can be customize copywriting, custom way reference [internationalization language pack Settings](https://fusion.design/component/basic/config-provider)
    * In accessible design, avoid the use of these components as much as possible

## 3. Reference

* [WAI-ARIA 1.1](https://www.w3.org/TR/wai-aria-1.1/#region)
* [WCAG 2.0](https://www.w3.org/TR/WCAG20/)
* [WCAG 2.0 chinese](https://www.w3.org/Translations/WCAG20-zh/)
* [WCAG 2.1](https://www.w3.org/TR/WCAG21/)


